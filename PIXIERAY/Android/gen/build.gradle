buildscript {
	repositories {
		google()
		jcenter()
	}

	dependencies {
		classpath 'com.android.tools.build:gradle:7.4.1'

	}
}
repositories {
	google()
	jcenter()
	flatDir {
		dirs getProject().file('libs')
	}

}
apply plugin: 'com.android.application'
archivesBaseName = 'PIXIERAY'
android {
	compileSdkVersion 33
	buildToolsVersion '33.0.1'
	useLibrary 'org.apache.http.legacy'
	
	defaultConfig {
		applicationId "com.innovgeek.pixieray"
		ndk {
			abiFilters "armeabi-v7a",  "arm64-v8a",  "x86",  "x86_64"
		}

		minSdkVersion 23

		targetSdkVersion 33
	}

	sourceSets {
		main {
			manifest.srcFile getProject().file('AndroidManifest.xml')
			java.srcDirs = [getProject().file('src')]
			resources.srcDirs = [getProject().file('src')]
			res.srcDirs = [getProject().file('res')]
			assets.srcDirs = [getProject().file('assets')]
			aidl.srcDirs = [getProject().file('src')]
			jniLibs.srcDirs = [getProject().file('libs')]
		}
	}
	compileOptions {
		sourceCompatibility JavaVersion.VERSION_1_8
		targetCompatibility JavaVersion.VERSION_1_8
    }
	lintOptions {
		abortOnError false
	}
	signingConfigs {
		fromFile {
			storeFile file('C:\\Users\\f_ham\\.android\\debug.keystore')
			storePassword 'android'
			keyAlias 'androiddebugkey'
			keyPassword 'android'			
		}
	}
	aaptOptions {
		noCompress 'FNC'
	}
	
	dexOptions {
		preDexLibraries = true
		jumboMode = false
		javaMaxHeapSize = '4096m'
    }
	
	bundle {
    language {
        enableSplit = false
    }
    density {
        enableSplit = true
    }
    abi {
        enableSplit = true
    }
	}
	
	
	buildTypes {
		debug {
		zipAlignEnabled true
		minifyEnabled false
		proguardFile file('prg.dat')
        multiDexEnabled true
        signingConfig signingConfigs.fromFile

		}
		release {
		zipAlignEnabled true
		minifyEnabled false
		proguardFile file('prg.dat')
		multiDexEnabled true
        signingConfig signingConfigs.fromFile

		}
		applicationVariants.all { variant ->  
			variant.outputs.each { output ->
				output.outputFileName = new File(archivesBaseName + ".apk")
			}
		}
	}
}

dependencies {
	// Remote binary dependency
	implementation 'com.google.android.material:material:1.8.0'
	implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0-alpha03'
	implementation 'androidx.exifinterface:exifinterface:1.3.2'

	// Local binary dependency
	implementation fileTree(dir: getProject().file('libs'), include: ['*.jar','*.aar'])
	implementation files(getProject().file('C:\\PC SOFT\\WINDEV Mobile 28\\Programmes\\FrameWork\\Android\\WD280Android.aar'))
	implementation files(getProject().file('C:\\PC SOFT\\WINDEV Mobile 28\\Programmes\\FrameWork\\Android\\lib\\wd280android_wdl.aar'))

}

gradle.projectsEvaluated {
	tasks.withType(JavaCompile) {
		options.warnings = false
		
	}
}

